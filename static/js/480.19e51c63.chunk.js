"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[480],{7480:function(s,t,e){e.r(t),e.d(t,{default:function(){return L}});var r=e(5671),i=e(3144),n=e(136),o=e(5716),a=e(2791),u="Profile_content__O6oKT",l=e(5987),c="ProfileInfo_profileInfo__UdQft",p="ProfileInfo_profileUserData__i9vAf",f="ProfileInfo_profileUserDataInfo__j7GWw",d="ProfileInfo_profileUserDataContacts__zpS0r",h="ProfileInfo_profileInfoDescription__JW8Fs",m="ProfileInfo_mainPhoto__+jBr5",j=e(1609),x=e(978),P=e(9439),v="ProfileStatusFC_profileStatus__S5euY",_=e(184),g=function(s){var t=(0,a.useState)(!1),e=(0,P.Z)(t,2),r=e[0],i=e[1],n=(0,a.useState)(s.status),o=(0,P.Z)(n,2),u=o[0],l=o[1];(0,a.useEffect)((function(){l(s.status)}),[s.status]);return(0,_.jsxs)("div",{className:v,children:[!r&&(0,_.jsx)("div",{onDoubleClick:function(){i(!0)},children:(0,_.jsx)("span",{children:s.status||"Enter you status"})}),r&&(0,_.jsxs)("div",{onBlur:function(){return i(!1),void s.updateProfileStatus(u)},children:[(0,_.jsx)("input",{value:u,onChange:function(s){l(s.currentTarget.value)},autoFocus:!0,type:"text",placeholder:"Enter your status"}),(0,_.jsx)("button",{onClick:function(){s.updateProfileStatus(u)},children:"Send"})]})]})},k=["isOwner","profile","status"],S=function(s){var t=s.isOwner,e=s.profile,r=s.status,i=(0,l.Z)(s,k),n=e?(0,_.jsxs)("div",{className:p,children:[(0,_.jsx)("img",{className:m,alt:"profile",src:e.photos.large?e.photos.large:x.Z}),t&&(0,_.jsx)("input",{onChange:function(s){s.target.files&&(console.log(typeof s.target.files[0]),i.updateProfilePhoto(s.target.files[0]))},type:"file"}),(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("span",{children:e.fullName||"My full name"}),(0,_.jsx)("span",{children:e.aboutMe||"Who am I"})]}),(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("span",{children:e.contacts.facebook||"facebook"}),(0,_.jsx)("span",{children:e.contacts.instagram||"instagram"}),(0,_.jsx)("span",{children:e.contacts.github||"github"}),(0,_.jsx)("span",{children:e.contacts.vk||"vk"}),(0,_.jsx)("span",{children:e.contacts.youtube||"youtube"}),(0,_.jsx)("span",{children:e.contacts.mainLink||"mainLink"})]})]}):(0,_.jsx)(_.Fragment,{});return(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)("div",{children:(0,_.jsx)("img",{alt:"wallpaper",src:"https://www.casa-pacifica.com/wp-content/uploads/2017/06/cropped-colorful-smoke-artistic-abstract-web-header.jpg"})}),(0,_.jsxs)("div",{className:h,children:[!e&&(0,_.jsx)(j.p,{}),(0,_.jsx)(g,{updateProfileStatus:i.updateProfileStatus,status:r}),n]})]})},C=e(8263),y={},b="Post_item__G6Eza",w="Post_likes__CX8nH",I="Post_likes_title__SYjUy",N=e(5426),Z=function(s){var t=s.message,e=s.likes;return(0,_.jsxs)("div",{className:b,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("img",{alt:"user avatar",src:N}),(0,_.jsx)("span",{children:t})]}),(0,_.jsxs)("div",{className:w,children:[(0,_.jsx)("span",{className:I,children:"\u2764 "}),e]})]})},T=e(6139),D=e(704),U=e(3079),E=e(2421),A=(0,U.DT)(10),O=(0,D.Z)({form:"post"})((function(s){return(0,_.jsx)("div",{children:(0,_.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,_.jsx)("div",{children:(0,_.jsx)(T.Z,{validate:[U.lp,A,U.Ei],name:"post",component:E.g,placeholder:"new post text",type:"text"})}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{children:"Add Post"})})]})})})),F=(0,a.memo)((function(s){var t=s.posts,e=s.addNewPost;console.log("render");var r=t.map((function(s){return(0,_.jsx)(Z,{message:s.message,likes:s.likes},s.id)}));return(0,_.jsxs)("div",{children:["My posts",(0,_.jsx)(O,{onSubmit:function(s){console.log(s),e(s.post)}}),(0,_.jsx)("div",{className:y.posts,children:r})]})})),M=e(364),W=(0,M.$j)((function(s){return{posts:s.profilePage.posts,profile:null,status:s.profilePage.status}}),(function(s){return{addNewPost:function(t){return s((0,C.Pi)(t))}}}))(F),$=function(s){return(0,_.jsxs)("div",{className:u,children:[(0,_.jsx)(S,{isOwner:s.isOwner,status:s.status,profile:s.profile,updateProfileStatus:s.updateProfileStatus,updateProfilePhoto:s.updateProfilePhoto}),(0,_.jsx)(W,{})]})},q=e(9271),z=e(6559),B=e(7781),G=function(s){(0,n.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.userId?this.props.userId:""),this.props.setUserProfileTC(s),this.props.getProfileStatusTC(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,_.jsx)($,{isOwner:!this.props.match.params.userId,status:this.props.status,profile:this.props.profile,updateProfileStatus:this.props.updateProfileStatusTC,updateProfilePhoto:this.props.updateProfilePhotoTC})}}]),e}(a.Component),L=(0,B.qC)(z.m,(0,M.$j)((function(s){return{profile:s.profilePage.profile,posts:s.profilePage.posts,status:s.profilePage.status,userId:s.auth.id}}),{setUserProfileTC:C.bq,getProfileStatusTC:C.bs,updateProfileStatusTC:C.xr,updateProfilePhotoTC:C.EC}),q.EN)(G)},6559:function(s,t,e){e.d(t,{m:function(){return m}});var r=e(1413),i=e(5987),n=e(5671),o=e(3144),a=e(136),u=e(5716),l=e(2791),c=e(9271),p=e(364),f=e(184),d=["isAuth"],h=function(s){return{isAuth:s.auth.isAuth}},m=function(s){var t=function(t){(0,a.Z)(l,t);var e=(0,u.Z)(l);function l(){return(0,n.Z)(this,l),e.apply(this,arguments)}return(0,o.Z)(l,[{key:"render",value:function(){var t=this.props,e=t.isAuth,n=(0,i.Z)(t,d);return e?(0,f.jsx)(s,(0,r.Z)({},n)):(0,f.jsx)(c.l_,{to:"/login"})}}]),l}(l.Component);return(0,p.$j)(h)(t)}}}]);
//# sourceMappingURL=480.19e51c63.chunk.js.map