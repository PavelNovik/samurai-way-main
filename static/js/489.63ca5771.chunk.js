"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[489],{5489:function(e,t,o){o.r(t),o.d(t,{default:function(){return se}});var n=o(5671),s=o(3144),r=o(136),i=o(5716),a=o(2791),l=o(1413),u="Profile_content__O6oKT",c="ProfileInfo_profileInfo__UdQft",d="ProfileInfo_profileUserData__i9vAf",p="ProfileInfo_infoDataContainer__KBOzE",f="ProfileInfo_profileUserDataInfo__j7GWw",h="ProfileInfo_profileUserDataContacts__zpS0r",m="ProfileInfo_profileInfoDescription__JW8Fs",x="ProfileInfo_mainPhoto__+jBr5",j="ProfileInfo_photoContainer__09fL6",v=o(1609),b=o(9439),g="ProfileStatusFC_profileStatus__S5euY",P=o(184),_=function(e){var t=(0,a.useState)(!1),o=(0,b.Z)(t,2),n=o[0],s=o[1],r=(0,a.useState)(e.status),i=(0,b.Z)(r,2),l=i[0],u=i[1];(0,a.useEffect)((function(){u(e.status)}),[e.status]);return(0,P.jsxs)("div",{className:g,children:[!n&&(0,P.jsx)("div",{onDoubleClick:function(){s(!0)},children:(0,P.jsx)("span",{children:e.status||"Enter you status"})}),n&&(0,P.jsxs)("div",{onBlur:function(){return s(!1),void e.updateProfileStatus(l)},children:[(0,P.jsx)("input",{value:l,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,type:"text",placeholder:"Enter your status"}),(0,P.jsx)("button",{onClick:function(){e.updateProfileStatus(l)},children:"Send"})]})]})},k=o(5987),S=o(978),Z=function(e){var t=e.contactTitle,o=e.contactValue;return(0,P.jsxs)("span",{children:[t," : ",o]})},y=function(e){var t=e.profile;return(0,P.jsxs)("div",{className:h,children:[(0,P.jsx)("span",{children:"Contacts:"}),Object.keys(t.contacts).map((function(e){return(0,P.jsx)(Z,{contactTitle:e,contactValue:t.contacts[e]||"any Value"},e)}))]})},C=o(704),I=o(6139),N=o(2421),w=function(e){var t=e.name,o=e.placeholder;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(I.Z,{validate:[],name:t,component:N.II,placeholder:o,type:"text"})})},F=function(e){var t=e.name,o=e.placeholder;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(I.Z,{validate:[],name:t,component:N.gx,placeholder:o,type:"text"})})},A=function(e){var t=e.name,o=e.label;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("label",{style:{fontSize:"16px"},children:[" ",o,(0,P.jsx)(I.Z,{validate:[],name:t,component:N.II,type:"checkbox"})]})})},D=o(9459),T=(0,C.Z)({form:"contacts"})((function(e){return(0,P.jsxs)("form",{onSubmit:e.handleSubmit,children:["Contacts:",(0,P.jsx)(w,{name:"facebook",placeholder:"facebook"}),(0,P.jsx)(w,{name:"website",placeholder:"website"}),(0,P.jsx)(w,{name:"vk",placeholder:"vk"}),(0,P.jsx)(w,{name:"twitter",placeholder:"twitter"}),(0,P.jsx)(w,{name:"instagram",placeholder:"instagram"}),(0,P.jsx)(w,{name:"youtube",placeholder:"youtube"}),(0,P.jsx)(w,{name:"github",placeholder:"github "}),(0,P.jsx)(w,{name:"mainLink",placeholder:"mainLink  "}),e.error&&(0,P.jsx)("div",{className:D.Z.formSumError,children:e.error}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{children:"Save"})})]})})),J=function(e){var t=e.profile;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{children:t.fullName||"My full name"}),(0,P.jsx)("span",{children:t.aboutMe||"Who am I"}),(0,P.jsxs)("span",{children:["Looking for a job: ",t.lookingForAJob?"Yes":"No"]}),(0,P.jsxs)("span",{children:["My skills: ",t.lookingForAJobDescription]})]})},E=(0,C.Z)({form:"profile"})((function(e){return(0,P.jsxs)("form",{onSubmit:e.handleSubmit,children:["Main Data:",(0,P.jsx)(w,{name:"fullName",placeholder:"full name"}),(0,P.jsx)(w,{name:"aboutMe",placeholder:"about Me"}),(0,P.jsx)(A,{name:"lookingForAJob",label:"Looking for a Job?"}),(0,P.jsx)(F,{name:"lookingForAJobDescription",placeholder:"Enter your skills"}),e.error&&(0,P.jsx)("div",{className:D.Z.formSumError,children:e.error}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{children:"Save"})})]})})),M=["profile","isOwner"],U=function(e){var t=e.profile,o=e.isOwner,n=(0,k.Z)(e,M),s=(0,a.useState)(!1),r=(0,b.Z)(s,2),i=r[0],u=r[1],c=(0,a.useState)(!1),h=(0,b.Z)(c,2),m=h[0],v=h[1],g={fullName:(null===t||void 0===t?void 0:t.fullName)||"",aboutMe:(null===t||void 0===t?void 0:t.aboutMe)||"",lookingForAJob:(null===t||void 0===t?void 0:t.lookingForAJob)||!1,lookingForAJobDescription:(null===t||void 0===t?void 0:t.lookingForAJobDescription)||""};return t?(0,P.jsxs)("div",{className:d,children:[(0,P.jsxs)("div",{className:j,children:[(0,P.jsx)("img",{className:x,alt:"profile",src:t.photos.large?t.photos.large:S.Z}),o&&(0,P.jsx)("input",{onChange:function(e){e.target.files&&(console.log(typeof e.target.files[0]),n.updateProfilePhoto(e.target.files[0]))},type:"file"})]}),(0,P.jsxs)("div",{className:f,children:[!m&&(0,P.jsx)(J,{profile:t}),m&&(0,P.jsx)(E,{onSubmit:function(e){var o=(0,l.Z)({userId:(null===t||void 0===t?void 0:t.userId)||"",contacts:(null===t||void 0===t?void 0:t.contacts)||{}},e);n.updateProfile(o,"profile").then((function(){v(!m)}))},initialValues:g})]}),(0,P.jsxs)("div",{className:p,children:[!i&&(0,P.jsx)(y,{profile:t}),i&&(0,P.jsx)(T,{initialValues:t.contacts,onSubmit:function(e){console.log(e);var o={userId:(null===t||void 0===t?void 0:t.userId)||"",fullName:(null===t||void 0===t?void 0:t.fullName)||"",aboutMe:(null===t||void 0===t?void 0:t.aboutMe)||"",lookingForAJob:(null===t||void 0===t?void 0:t.lookingForAJob)||!1,lookingForAJobDescription:(null===t||void 0===t?void 0:t.lookingForAJobDescription)||"",contacts:(0,l.Z)({},e)||{}};console.log(o),n.updateProfile(o,"contacts").then((function(){u(!i)}))}})]}),(0,P.jsx)("div",{children:!m&&!i&&o&&(0,P.jsx)("button",{onClick:function(){u(!i),v(!m)},children:"Edit"})})]}):(0,P.jsx)(P.Fragment,{})},O=function(e){return(0,P.jsxs)("div",{className:c,children:[(0,P.jsx)("div",{children:(0,P.jsx)("img",{alt:"wallpaper",src:"https://www.casa-pacifica.com/wp-content/uploads/2017/06/cropped-colorful-smoke-artistic-abstract-web-header.jpg"})}),(0,P.jsxs)("div",{className:m,children:[!e.profile&&(0,P.jsx)(v.p,{}),(0,P.jsx)(_,{updateProfileStatus:e.updateProfileStatus,status:e.status}),(0,P.jsx)(U,(0,l.Z)({},e))]})]})},L=o(8263),V={},z="Post_item__G6Eza",B="Post_likes__CX8nH",W="Post_likes_title__SYjUy",Y=o(5426),$=function(e){var t=e.message,o=e.likes;return(0,P.jsxs)("div",{className:z,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("img",{alt:"user avatar",src:Y}),(0,P.jsx)("span",{children:t})]}),(0,P.jsxs)("div",{className:B,children:[(0,P.jsx)("span",{className:W,children:"\u2764 "}),o]})]})},q=o(3079),G=(0,q.DT)(10),K=(0,C.Z)({form:"post"})((function(e){return(0,P.jsx)("div",{children:(0,P.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,P.jsx)("div",{children:(0,P.jsx)(I.Z,{validate:[q.lp,G,q.Ei],name:"post",component:N.gx,placeholder:"new post text",type:"text"})}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{children:"Add Post"})})]})})})),H=(0,a.memo)((function(e){var t=e.posts,o=e.addNewPost,n=t.map((function(e){return(0,P.jsx)($,{message:e.message,likes:e.likes},e.id)}));return(0,P.jsxs)("div",{children:["My posts",(0,P.jsx)(K,{onSubmit:function(e){o(e.post)}}),(0,P.jsx)("div",{className:V.posts,children:n})]})})),Q=o(364),X=(0,Q.$j)((function(e){return{posts:e.profilePage.posts,profile:null,status:e.profilePage.status}}),(function(e){return{addNewPost:function(t){return e((0,L.Pi)(t))}}}))(H),R=function(e){return(0,P.jsxs)("div",{className:u,children:[(0,P.jsx)(O,(0,l.Z)({},e)),(0,P.jsx)(X,{})]})},ee=o(9271),te=o(6559),oe=o(7781),ne=function(e){(0,r.Z)(o,e);var t=(0,i.Z)(o);function o(){return(0,n.Z)(this,o),t.apply(this,arguments)}return(0,s.Z)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId?this.props.userId:""),this.props.setUserProfileTC(e),this.props.getProfileStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(R,{isOwner:!this.props.match.params.userId,status:this.props.status,profile:this.props.profile,updateProfileStatus:this.props.updateProfileStatusTC,updateProfilePhoto:this.props.updateProfilePhotoTC,updateProfile:this.props.updateProfileTC})}}]),o}(a.Component),se=(0,oe.qC)(te.m,(0,Q.$j)((function(e){return{profile:e.profilePage.profile,posts:e.profilePage.posts,status:e.profilePage.status,userId:e.auth.id}}),{setUserProfileTC:L.bq,getProfileStatusTC:L.bs,updateProfileStatusTC:L.xr,updateProfilePhotoTC:L.EC,updateProfileTC:L.UA}),ee.EN)(ne)},6559:function(e,t,o){o.d(t,{m:function(){return m}});var n=o(1413),s=o(5987),r=o(5671),i=o(3144),a=o(136),l=o(5716),u=o(2791),c=o(9271),d=o(364),p=o(184),f=["isAuth"],h=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){(0,a.Z)(u,t);var o=(0,l.Z)(u);function u(){return(0,r.Z)(this,u),o.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){var t=this.props,o=t.isAuth,r=(0,s.Z)(t,f);return o?(0,p.jsx)(e,(0,n.Z)({},r)):(0,p.jsx)(c.l_,{to:"/login"})}}]),u}(u.Component);return(0,d.$j)(h)(t)}}}]);
//# sourceMappingURL=489.63ca5771.chunk.js.map