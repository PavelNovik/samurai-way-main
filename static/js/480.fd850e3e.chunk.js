"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[480],{7480:function(t,s,e){e.r(s),e.d(s,{default:function(){return L}});var r=e(5671),i=e(3144),n=e(136),o=e(5716),a=e(2791),u="Profile_content__O6oKT",l=e(5987),c="ProfileInfo_profileInfo__UdQft",p="ProfileInfo_profileUserData__i9vAf",f="ProfileInfo_profileUserDataInfo__j7GWw",d="ProfileInfo_profileUserDataContacts__zpS0r",h="ProfileInfo_profileInfoDescription__JW8Fs",m="ProfileInfo_mainPhoto__+jBr5",j=e(1609),x=e(978),P=e(9439),v="ProfileStatusFC_profileStatus__S5euY",_=e(184),g=function(t){var s=(0,a.useState)(!1),e=(0,P.Z)(s,2),r=e[0],i=e[1],n=(0,a.useState)(t.status),o=(0,P.Z)(n,2),u=o[0],l=o[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,_.jsxs)("div",{className:v,children:[!r&&(0,_.jsx)("div",{onDoubleClick:function(){i(!0)},children:(0,_.jsx)("span",{children:t.status||"Enter you status"})}),r&&(0,_.jsxs)("div",{onBlur:function(){return i(!1),void t.updateProfileStatus(u)},children:[(0,_.jsx)("input",{value:u,onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,type:"text",placeholder:"Enter your status"}),(0,_.jsx)("button",{onClick:function(){t.updateProfileStatus(u)},children:"Send"})]})]})},k=["isOwner","profile","status"],S=function(t){var s=t.isOwner,e=t.profile,r=t.status,i=(0,l.Z)(t,k),n=e?(0,_.jsxs)("div",{className:p,children:[(0,_.jsx)("img",{className:m,alt:"profile",src:e.photos.large?e.photos.large:x.Z}),s&&(0,_.jsx)("input",{onChange:function(t){t.target.files&&(console.log(typeof t.target.files[0]),i.updateProfilePhoto(t.target.files[0]))},type:"file"}),(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("span",{children:e.fullName||"My full name"}),(0,_.jsx)("span",{children:e.aboutMe||"Who am I"})]}),(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("span",{children:e.contacts.facebook||"facebook"}),(0,_.jsx)("span",{children:e.contacts.instagram||"instagram"}),(0,_.jsx)("span",{children:e.contacts.github||"github"}),(0,_.jsx)("span",{children:e.contacts.vk||"vk"}),(0,_.jsx)("span",{children:e.contacts.youtube||"youtube"}),(0,_.jsx)("span",{children:e.contacts.mainLink||"mainLink"})]})]}):(0,_.jsx)(_.Fragment,{});return(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)("div",{children:(0,_.jsx)("img",{alt:"wallpaper",src:"https://www.casa-pacifica.com/wp-content/uploads/2017/06/cropped-colorful-smoke-artistic-abstract-web-header.jpg"})}),(0,_.jsxs)("div",{className:h,children:[!e&&(0,_.jsx)(j.p,{}),(0,_.jsx)(g,{updateProfileStatus:i.updateProfileStatus,status:r}),n]})]})},C=e(8263),y={},b="Post_item__G6Eza",w="Post_likes__CX8nH",I="Post_likes_title__SYjUy",N=e(5426),Z=function(t){var s=t.message,e=t.likes;return(0,_.jsxs)("div",{className:b,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("img",{alt:"user avatar",src:N}),(0,_.jsx)("span",{children:s})]}),(0,_.jsxs)("div",{className:w,children:[(0,_.jsx)("span",{className:I,children:"\u2764 "}),e]})]})},T=e(6139),D=e(704),U=e(3079),E=e(2421),A=(0,U.DT)(10),O=(0,D.Z)({form:"post"})((function(t){return(0,_.jsx)("div",{children:(0,_.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,_.jsx)("div",{children:(0,_.jsx)(T.Z,{validate:[U.lp,A,U.Ei],name:"post",component:E.g,placeholder:"new post text",type:"text"})}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{children:"Add Post"})})]})})})),F=(0,a.memo)((function(t){var s=t.posts,e=t.addNewPost,r=s.map((function(t){return(0,_.jsx)(Z,{message:t.message,likes:t.likes},t.id)}));return(0,_.jsxs)("div",{children:["My posts",(0,_.jsx)(O,{onSubmit:function(t){e(t.post)}}),(0,_.jsx)("div",{className:y.posts,children:r})]})})),M=e(364),W=(0,M.$j)((function(t){return{posts:t.profilePage.posts,profile:null,status:t.profilePage.status}}),(function(t){return{addNewPost:function(s){return t((0,C.Pi)(s))}}}))(F),$=function(t){return(0,_.jsxs)("div",{className:u,children:[(0,_.jsx)(S,{isOwner:t.isOwner,status:t.status,profile:t.profile,updateProfileStatus:t.updateProfileStatus,updateProfilePhoto:t.updateProfilePhoto}),(0,_.jsx)(W,{})]})},q=e(9271),z=e(6559),B=e(7781),G=function(t){(0,n.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.userId?this.props.userId:""),this.props.setUserProfileTC(t),this.props.getProfileStatusTC(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,_.jsx)($,{isOwner:!this.props.match.params.userId,status:this.props.status,profile:this.props.profile,updateProfileStatus:this.props.updateProfileStatusTC,updateProfilePhoto:this.props.updateProfilePhotoTC})}}]),e}(a.Component),L=(0,B.qC)(z.m,(0,M.$j)((function(t){return{profile:t.profilePage.profile,posts:t.profilePage.posts,status:t.profilePage.status,userId:t.auth.id}}),{setUserProfileTC:C.bq,getProfileStatusTC:C.bs,updateProfileStatusTC:C.xr,updateProfilePhotoTC:C.EC}),q.EN)(G)},6559:function(t,s,e){e.d(s,{m:function(){return m}});var r=e(1413),i=e(5987),n=e(5671),o=e(3144),a=e(136),u=e(5716),l=e(2791),c=e(9271),p=e(364),f=e(184),d=["isAuth"],h=function(t){return{isAuth:t.auth.isAuth}},m=function(t){var s=function(s){(0,a.Z)(l,s);var e=(0,u.Z)(l);function l(){return(0,n.Z)(this,l),e.apply(this,arguments)}return(0,o.Z)(l,[{key:"render",value:function(){var s=this.props,e=s.isAuth,n=(0,i.Z)(s,d);return e?(0,f.jsx)(t,(0,r.Z)({},n)):(0,f.jsx)(c.l_,{to:"/login"})}}]),l}(l.Component);return(0,p.$j)(h)(s)}}}]);
//# sourceMappingURL=480.fd850e3e.chunk.js.map