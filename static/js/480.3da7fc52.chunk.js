"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[480],{7480:function(s,t,e){e.r(t),e.d(t,{default:function(){return z}});var r=e(5671),i=e(3144),n=e(136),o=e(5716),a=e(2791),l="Profile_content__O6oKT",u="ProfileInfo_profileInfo__UdQft",c="ProfileInfo_profileUserData__i9vAf",p="ProfileInfo_profileUserDataInfo__j7GWw",f="ProfileInfo_profileUserDataContacts__zpS0r",d="ProfileInfo_profileInfoDescription__JW8Fs",h=e(1609),j=e(5426),x=e(9439),m="ProfileStatusFC_profileStatus__S5euY",v=e(184),_=function(s){var t=(0,a.useState)(!1),e=(0,x.Z)(t,2),r=e[0],i=e[1],n=(0,a.useState)(s.status),o=(0,x.Z)(n,2),l=o[0],u=o[1];(0,a.useEffect)((function(){u(s.status)}),[s.status]);return(0,v.jsxs)("div",{className:m,children:[!r&&(0,v.jsx)("div",{onDoubleClick:function(){i(!0)},children:(0,v.jsx)("span",{children:s.status||"Enter you status"})}),r&&(0,v.jsxs)("div",{onBlur:function(){return i(!1),void s.updateProfileStatus(l)},children:[(0,v.jsx)("input",{value:l,onChange:function(s){u(s.currentTarget.value)},autoFocus:!0,type:"text",placeholder:"Enter your status"}),(0,v.jsx)("button",{onClick:function(){s.updateProfileStatus(l)},children:"Send"})]})]})},P=function(s){var t=s.profile?(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)("img",{alt:"profile",src:s.profile.photos.large?s.profile.photos.large:j}),(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("span",{children:s.profile.fullName||"My full name"}),(0,v.jsx)("span",{children:s.profile.aboutMe||"Who am I"})]}),(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("span",{children:s.profile.contacts.facebook||"facebook"}),(0,v.jsx)("span",{children:s.profile.contacts.instagram||"instagram"}),(0,v.jsx)("span",{children:s.profile.contacts.github||"github"}),(0,v.jsx)("span",{children:s.profile.contacts.vk||"vk"}),(0,v.jsx)("span",{children:s.profile.contacts.youtube||"youtube"}),(0,v.jsx)("span",{children:s.profile.contacts.mainLink||"mainLink"})]})]}):(0,v.jsx)(v.Fragment,{});return(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{alt:"wallpaper",src:"https://www.casa-pacifica.com/wp-content/uploads/2017/06/cropped-colorful-smoke-artistic-abstract-web-header.jpg"})}),(0,v.jsxs)("div",{className:d,children:[!s.profile&&(0,v.jsx)(h.p,{}),(0,v.jsx)(_,{updateProfileStatus:s.updateProfileStatus,status:s.status}),t]})]})},g=e(8263),S={},k="Post_item__G6Eza",b="Post_likes__CX8nH",C="Post_likes_title__SYjUy",y=function(s){var t=s.message,e=s.likes;return(0,v.jsxs)("div",{className:k,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{alt:"user avatar",src:j}),(0,v.jsx)("span",{children:t})]}),(0,v.jsxs)("div",{className:b,children:[(0,v.jsx)("span",{className:C,children:"\u2764 "}),e]})]})},N=e(6139),w=e(704),Z=e(3079),I=e(2421),T=(0,Z.DT)(10),D=(0,w.Z)({form:"post"})((function(s){return(0,v.jsx)("div",{children:(0,v.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,v.jsx)("div",{children:(0,v.jsx)(N.Z,{validate:[Z.lp,T,Z.Ei],name:"post",component:I.g,placeholder:"new post text",type:"text"})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{children:"Add Post"})})]})})})),U=(0,a.memo)((function(s){var t=s.posts,e=s.addNewPost;console.log("render");var r=t.map((function(s){return(0,v.jsx)(y,{message:s.message,likes:s.likes},s.id)}));return(0,v.jsxs)("div",{children:["My posts",(0,v.jsx)(D,{onSubmit:function(s){console.log(s),e(s.post)}}),(0,v.jsx)("div",{className:S.posts,children:r})]})})),A=e(364),E=(0,A.$j)((function(s){return{posts:s.profilePage.posts,profile:null,status:s.profilePage.status}}),(function(s){return{addNewPost:function(t){return s((0,g.Pi)(t))}}}))(U),F=function(s){return(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)(P,{status:s.status,profile:s.profile,updateProfileStatus:s.updateProfileStatus}),(0,v.jsx)(E,{})]})},M=e(9271),W=e(6559),$=e(7781),q=function(s){(0,n.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.userId?this.props.userId:""),this.props.setUserProfileTC(s),this.props.getProfileStatusTC(s)}},{key:"render",value:function(){return(0,v.jsx)(F,{status:this.props.status,profile:this.props.profile,updateProfileStatus:this.props.updateProfileStatusTC})}}]),e}(a.Component),z=(0,$.qC)(W.m,(0,A.$j)((function(s){return{profile:s.profilePage.profile,posts:s.profilePage.posts,status:s.profilePage.status,userId:s.auth.id}}),{setUserProfileTC:g.bq,getProfileStatusTC:g.bs,updateProfileStatusTC:g.xr}),M.EN)(q)},6559:function(s,t,e){e.d(t,{m:function(){return j}});var r=e(1413),i=e(5987),n=e(5671),o=e(3144),a=e(136),l=e(5716),u=e(2791),c=e(9271),p=e(364),f=e(184),d=["isAuth"],h=function(s){return{isAuth:s.auth.isAuth}},j=function(s){var t=function(t){(0,a.Z)(u,t);var e=(0,l.Z)(u);function u(){return(0,n.Z)(this,u),e.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var t=this.props,e=t.isAuth,n=(0,i.Z)(t,d);return e?(0,f.jsx)(s,(0,r.Z)({},n)):(0,f.jsx)(c.l_,{to:"/login"})}}]),u}(u.Component);return(0,p.$j)(h)(t)}}}]);
//# sourceMappingURL=480.3da7fc52.chunk.js.map